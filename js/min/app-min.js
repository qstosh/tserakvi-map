var App=angular.module("Map",["ngAnimate","cfp.hotkeys","ngSanitize"]).directive("resizable",function(a){return function(e){e.initializeWindowSize=function(){e.windowHeight=a.innerHeight,e.windowWidth=a.innerWidth},angular.element(a).bind("resize",function(){e.initializeWindowSize(),e.$apply()}),e.initializeWindowSize()}}).controller("MapController",function(a,e){a.loaded=!0,a.introActive=!1,a.state=0,a.definitionHidden=!1,a.svg="",a.mapWidth=4889,a.mapHeight=2750,a.workingAreaWidth=4889,a.workingAreaHeight=2750,a.mapOffsetTop=0,a.mapOffsetLeft=0,a.labelX=0,a.labelY=0,a.mapX=0,a.mapXoffset=0,a.mapY=0,a.mapYoffset=0,a.increase=function(){a.state+=1},a.decrease=function(){a.state-=1},a.$watch("$viewContentLoaded",function(){a.loaded=!0}),a.mapIsBiggerX=function(){return a.windowWidth<a.workingAreaWidth},a.mapIsBiggerY=function(){return a.windowHeight<a.workingAreaHeight},a.$watchGroup(["windowWidth","windowHeight","mapIsBiggerX","mapIsBiggerY","state"],function(e,i){a.watchWindowWidth=e[0],a.watchWindowHeight=e[1],a.watchMapIsBiggerX=e[2],a.watchMapIsBiggerY=e[3],a.watchState=e[4],a.scaleWidth=a.watchWindowWidth/a.workingAreaWidth,a.scaleHeight=a.watchWindowHeight/a.workingAreaHeight,a.widthScalingX=a.scaleWidth*a.workingAreaWidth,a.widthScalingY=a.scaleWidth*a.workingAreaHeight,a.heightScalingX=a.scaleHeight*a.workingAreaWidth,a.heightScalingY=a.scaleHeight*a.workingAreaHeight,a.conditionOne=!1,a.conditionTwo=!1,a.conditionThree=!1,a.conditionFour=!1,0===a.state?1==a.watchMapIsBiggerX()&&a.widthScalingY<=a.watchWindowHeight?(a.mapScale=a.scaleWidth,a.mapScaleUpdated=a.scaleWidth,a.conditionOne=!0,a.conditionTwo=!1,a.conditionThree=!1,a.conditionFour=!1):1==a.watchMapIsBiggerX()&&a.widthScalingY>a.watchWindowHeight?(a.mapScale=a.scaleHeight,a.mapScaleUpdated=a.scaleHeight,a.conditionTwo=!0,a.conditionOne=!1,a.conditionThree=!1,a.conditionFour=!1):1==a.watchMapIsBiggerY()&&a.widthScalingX<=a.watchWindowWidth&&(a.mapScale=a.scaleHeight,a.mapScaleUpdated=a.scaleHeight,a.conditionThree=!0,a.conditionOne=!1,a.conditionTwo=!1,a.conditionFour=!1):0!==a.state&&(a.conditionFour=!0,1==a.watchMapIsBiggerX()&&a.widthScalingY<=a.watchWindowHeight?(a.mapScaleUpdated=a.scaleWidth,a.conditionOne=!0,a.conditionTwo=!1,a.conditionThree=!1,a.conditionFour=!1):1==a.watchMapIsBiggerX()&&a.widthScalingY>a.watchWindowHeight?(a.mapScaleUpdated=a.scaleHeight,a.conditionOne=!1,a.conditionTwo=!0,a.conditionThree=!1,a.conditionFour=!1):1==a.watchMapIsBiggerY()&&a.widthScalingX<=a.watchWindowWidth&&(a.mapScaleUpdated=a.scaleHeight,a.conditionOne=!1,a.conditionTwo=!1,a.conditionThree=!0,a.conditionFour=!1)),0===a.watchState?(1==a.watchMapIsBiggerX()&&a.widthScalingY<=a.watchWindowHeight?(a.mapScale=a.scaleWidth,a.mapScaleUpdated=a.scaleWidth,a.conditionOne=!0,a.conditionTwo=!1,a.conditionThree=!1,a.conditionFour=!1):1==a.watchMapIsBiggerX()&&a.widthScalingY>a.watchWindowHeight?(a.mapScale=a.scaleHeight,a.mapScaleUpdated=a.scaleHeight,a.conditionTwo=!0,a.conditionOne=!1,a.conditionThree=!1,a.conditionFour=!1):1==a.watchMapIsBiggerY()&&a.widthScalingX<=a.watchWindowWidth&&(a.mapScale=a.scaleHeight,a.mapScaleUpdated=a.scaleHeight,a.conditionThree=!0,a.conditionOne=!1,a.conditionTwo=!1,a.conditionFour=!1),a.mapX=0,a.mapY=0,a.hovering=!1):1===a.watchState?(a.mapScale=.3,a.mapX=1827*a.mapScale-300,a.mapY=1004*a.mapScale):2===a.watchState?(a.mapScale=.5,a.mapX=1120*a.mapScale-300,a.mapY=571*a.mapScale):3===a.watchState?(a.mapScale=.5,a.mapX=1255*a.mapScale-300,a.mapY=-41*a.mapScale):4===a.watchState?(a.mapScale=.5,a.mapX=1256*a.mapScale-300,a.mapY=-828*a.mapScale):5===a.watchState?(a.mapScale=.5,a.mapX=60*a.mapScale-300,a.mapY=-504*a.mapScale):6===a.watchState?(a.mapScale=.5,a.mapX=98*a.mapScale-300,a.mapY=320*a.mapScale):7===a.watchState?(a.mapScale=.5,a.mapX=-828*a.mapScale-300,a.mapY=-366*a.mapScale):8===a.watchState?(a.mapScale=.5,a.mapX=-687*a.mapScale-300,a.mapY=504*a.mapScale):9===a.watchState&&(a.mapScale=.5,a.mapX=-519*a.mapScale-300,a.mapY=967*a.mapScale)}),a.mapReset=function(){a.conditionOne===!0?(a.mapScale=a.mapScaleUpdated,a.state=0,a.mapX=0,a.mapY=0,a.mapXoffset=0,a.mapYoffset=0,a.labelScale=-1*(a.mapScale-1)+1,a.test=0):a.conditionTwo===!0?(a.mapScale=a.mapScaleUpdated,a.state=0,a.mapX=0,a.mapY=0,a.mapXoffset=0,a.mapYoffset=0,a.labelScale=-1*(a.mapScale-1)+1,a.test=0):a.conditionThree===!0?(a.mapScale=a.mapScaleUpdated,a.state=0,a.mapX=0,a.mapY=0,a.mapXoffset=0,a.mapYoffset=0,a.labelScale=-1*(a.mapScale-1)+1,a.test=0):a.conditionFour===!0?(a.mapScale=a.mapScaleUpdated,a.state=0,a.mapX=0,a.mapY=0,a.mapXoffset=0,a.mapYoffset=0,a.labelScale=-1*(a.mapScale-1)+1,a.test=0):(a.mapScale=1,a.state=0,a.mapX=0,a.mapY=0,a.mapXoffset=0,a.mapYoffset=0,a.labelScale=-1*(a.mapScale-1)+1,a.test=0)},a.items=[{title:"Skóry i futra",description:"<p>Wysuszone na słońcu skóry i obszyte materiały znakowane były kamiennymi lub drewnianymi stemplami.</p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:-530,y:-5,xOffset:0,yOffset:0},{title:"Śmietnik",description:"<p>Przedmioty odnalezione na dziedzińcu, takie jak zniszczone narzędzia czy kości zwierząt, sugerują, że pełnił on funkcję śmietnika. </p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:-375,y:75,xOffset:0,yOffset:0},{title:"Bezpieczeństwo",description:"<p>Aby lepiej chronić domy przed atakami wrogów, wejścia sytuowano w ich dachach. Prowadziły do nich drabiny, które umożliwiały także bezpieczną komunikację między budynkami.</p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:149,y:-348,xOffset:0,yOffset:0},{title:"Spiżarnia",description:"<p>W spiżarni znajdowały się gliniane pojemniki na żywność oraz miejsce do przechowywania zboża.</p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:503,y:-127,xOffset:0,yOffset:0},{title:"Pogrzeb",description:"<p>Ciała zmarłych pozostawiano na zewnątrz do momentu ich całkowitego rozkładu. W pomieszczeniach piwnicznych zakopywano już tylko kości nieboszczyków.</p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:194,y:124,xOffset:0,yOffset:0},{title:"Stajnia",description:"<p>Większa część podwórka przeznaczona była na stajnię i pomieszczenia dla owiec i kóz. Mięso tych zwierząt obok pszenicy i jęczmienia stanowiło podstawę diety mieszkańców.</p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:90,y:15,xOffset:0,yOffset:0},{title:"Konstrukcja budynku",description:"<p>Ściany domu zbudowane były z ulepionych z błota i trawy, wysuszonych na słońcu cegieł i  niekiedy wsparte drewnianymi podporami. Belki przykryte trzciną tworzyły dach. Cały budynek – ściany i dach – pokrywano mułem. Wnętrza mieszkalne tynkowano, malowano i dekorowano.</p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:-338,y:246,xOffset:0,yOffset:0},{title:"Organizacja domu",description:"<p>Część mieszkalną stanowiły dwa pomieszczenia. Na środku głównej sali usytuowane było palenisko; wokół niego znajdowały się piec do przygotowywania posiłków oraz siedziska dla mieszkańców. Druga izba przeznaczona była na kuchnię i spiżarnię.</p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:373,y:0,xOffset:0,yOffset:0},{title:"Świątynia",description:"<p>Niektóre pomieszczenia miały cechy świątyń religijnych. Świadczą o tym znajdujące się w nich platformy przypominające ołtarze oraz dekoracje o obrzędowym charakterze. W malowidłach oraz płaskorzeźbach pojawiał się często motyw byka jako symbolu płodności; w pomieszczeniach znajdowano także figurki wyobrażające boginę matkę. Ściany zdobiono również przedstawieniami sępów pożerających człowieka, co odnosiło się prawdopowodbnie do rytuałów pogrzebowych.</p>",color:"#090909",hasImage:!1,imageSrc:"video/comp-01.mp4",x:263,y:-158,xOffset:0,yOffset:0}],a.increase=function(){a.state<a.items.length?a.state+=1:a.state===a.items.length&&(a.state=1)},a.decrease=function(){a.state>0&&(a.state-=1)},e.add({combo:"right",callback:function(){a.increase()}}),e.add({combo:"left",callback:function(){a.decrease()}}),e.add({combo:"esc",callback:function(){a.state=0}})});