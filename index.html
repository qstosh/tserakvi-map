<!DOCTYPE html>
<html ng-app="Map" class="map-punkty" lang="pl">
<head>
  <meta charset="UTF-8">

  <title>Map</title>

  <!-- disable zoom -->
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1" />

  <!-- ios specific -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <!-- browser sync -->
  <style>

    body::before {
      background: hsla(0, 100%, 40%, 0.8);
      display: block;
      padding: 20px;
      font-weight: bold;
      font-size: 1.618rem;
    }

  </style>
  <!-- Styles -->
  <link rel="stylesheet" href="css/style.css">
</head>
<body resizable
      id="body"
      class="u-color-bg-white"
      style="background-color: {{bgColor}}"
      ng-controller="MapController"
      ng-class="{'loaded' : loaded === true}"
      >

  <figure u-hide class="u-debug u-debug--click-through">
    <h1>{{mapX}}</h1>
  </figure>

  <main class="image {{background}}"
       style="
       width: {{mapWidth}}px;
       height: {{mapHeight}}px;
       margin: {{-(mapHeight / 2) + mapOffsetTop}}px 0 0 {{-(mapWidth / 2) + mapOffsetLeft}}px;
       -webkit-transform: translate({{(mapX * -1) + mapXoffset - test}}px, {{(mapY * -1) + mapYoffset}}px) scale({{mapScale}});
       transform: translate({{(mapX * -1) + mapXoffset - test}}px, {{(mapY * -1) + mapYoffset}}px) scale({{mapScale}})"
       ng-class="{'image--zoomed' : state !== 0, 'creatures' : state === 1, 'village' : state === 2, 'oak' : state === 3, 'apple' : state === 4, 'sona' : state === 5, 'chinka' : state === 6, 'george' : state === 7, 'gate' : state === 8}">

    <svg class="hover-map" width="4889px" height="2750px" viewBox="0 0 4889 2750" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <g fill="none">
        <rect    ng-click="state = 1; background = ''" ng-mouseover="background= 'creatures'" fill="transparent" id="creatures-of-the-see" x="0" y="0" width="4889" height="2750.0625"></rect>
        <path    ng-click="state = 2; background = ''" ng-mouseover="background= 'village'" fill="transparent" id="village" d="M4356.26517,438.301057 L3760.61195,542.662669 L2970.34561,635.143831 L2643.28377,638.804474 L2191.56039,754.247852 L1771.28526,1076.81708 L1355.1034,999.877018 L1071.70305,860.772573 L989.904308,733.5153 L972.133549,989.56066 L752.694622,1152.69224 L605.436926,1291.06455 L492.988619,1526.74343 L451.556793,1812.04065 L600.678089,1870.8439 L845.242341,1808.7128 L906.674591,1687.74517 L1036.19481,1569.70607 L1183.41922,1549.00679 L1304.05406,1621.88687 L1574.90839,1719.92556 L1716.57528,1858.66394 L1963.46903,1888.24859 L2101.84135,1718.76081 L2213.22474,1634.00027 L2351.96312,1634.00027 L2546.9423,1523.44885 L2787.81263,1509.00594 L3009.08188,1393.92863 L3220.70034,1168.66595 L3521.13932,991.790324 L3807.13539,826.429083 L4086.14297,718.373548 L4354.36829,661.433905 L4372.13905,508.951473 L4356.26517,438.301057 Z"></path>
        <polygon ng-click="state = 3; background = ''" ng-mouseover="background= 'oak'" fill="transparent" id="oak-tree" points="1950.4427 1900.20256 2071.38496 1717.11831 2256.91277 1563.06913 2370.25515 1593.80823 2549.35218 1493.39171 2826.38989 1470.53031 3108.76514 1253.87756 3355.48175 1058.7679 3706.47335 858.577931 4028.55863 700.284449 4333.50589 665.976274 4428.29549 671.667508 4348.5539 905.81196 4496.55815 1027.73942 4645.26978 1261.85172 4554.11357 1458.89061 4226.3049 1719.11185 3983.92906 1822.03637 3753.03215 1804.89836 3542.81018 1942.48475 3499.91692 2153.73565 3269.69524 2227.75385 2979.05644 2284.92343 2753.07907 2413.28166 2435.5918 2573.40791 2375.52838 2327.49514 2177.10687 2253.47694 2034.82602 2111.54978"></polygon>
        <path    ng-click="state = 4; background = ''" ng-mouseover="background= 'apple'" fill="transparent" id="apple-tree" d="M672.1584,1846.21607 C731.727408,1832.4356 799.144892,1727.2402 872.14222,1670.59166 C950.483523,1609.796 1021.01462,1552.39405 1021.01462,1552.39405 L1235.22368,1512.36249 L1472.55136,1629.59548 L1769.23508,1800.81482 L1902.96301,1846.21608 L2072.44604,1889.10934 L2064.88988,2069.26745 L2156.39978,2200.10153 L2356.65406,2285.21281 L2430.64011,2344.21515 L2455.68797,2529.03558 L2455.68797,2603.02162 L2220.45028,2537.26697 L1956.59566,2576.94484 L1674.54195,2599.83839 L1363.90345,2568.71345 L1116.5116,2477.20354 L922.752407,2269.87542 L817.319881,2084.34761 L660.730554,1987.11432 L450.508578,1868.08071 L488.289371,1746.41048 C488.289371,1746.41048 624.095021,1857.33488 672.1584,1846.21607 Z"></path>
        <polygon ng-click="state = 5; background = ''" ng-mouseover="background= 'sona'" fill="transparent" id="sona" points="3081.76228 633.712852 3678.48042 633.712852 4309.3091 447.619058 4170.57072 208.978393 3621.90684 140.890428 3101.76271 132.038327 2902.29093 202.322678"></polygon>
        <polygon ng-click="state = 6; background = ''" ng-mouseover="background= 'chinka'" fill="transparent" id="chinka" points="3071.82512 654.26081 3124.55783 563.376504 2942.39992 218.313429 2663.412 181.329745 2506.80645 80.99602 2327.40904 277.73506 2231.00373 277.73506 1882.40154 304.915413 1486.97695 345.827507 1307.96885 173.119013 1167.46624 210.881301 1204.48532 424.89119 1047.87977 552.405268 1007.35697 777.59874 1088.04865 1006.18976 1477.52753 1103.01976 1835.57914 1137.63224 2133.81981 853.9727 2442.35928 723.308816 2715.0122 663.887185"></polygon>
        <polygon ng-click="state = 7; background = ''" ng-mouseover="background= 'george'" fill="transparent" id="george" points="2866.58302 1079.41281 2849.54439 852.253257 2696.3631 755.678831 2611.26978 446.354472 2509.10456 585.092853 2509.10456 819.70681 2320.08225 932.155117 2352.26263 1131.6269 2399.98411 1199.68159"></polygon>
        <polygon ng-click="state = 8; background = ''" ng-mouseover="background= 'gate'" fill="transparent" id="gate" points="1053.25318 779.499686 988.775658 681.058874 796.551355 655.641329 639.784197 643.932123 402.854014 826.863754 250.941893 998.833107 379.413633 1187.87198 545.473462 1312.67498 693.958498 1248.43911 1016.06052 1008.60909"></polygon>
      </g>
    </svg>


    <div class="image__scale-reset"
        ng-class="{'image__scale-reset--zoomed-in' : state != 0}"
        ng-click="mapReset()"></div>
  </main>

  <aside class="aside" role="main" ng-class="{'aside--active' : state !== 0}">
    <i class="aside__bg"></i>
    <figure ng-repeat="item in items" ng-if="$parent.state === $index + 1">
      <h2><span>{{item.title}}</span></h2>
      <div class="aside__scroll-container">
        <div ng-bind-html="item.description"></div>
        <video autoplay loop>
          <!-- <source src="{{item.imageSrc}}" type="video/mp4"> -->
        </video>
      </div>
    </figure>
  </aside>

  <div class="debug">{{background}}</div>
  <!-- Vendor Scripts -->
  <script src="js/angular.js"></script>
  <script src="js/angular-animate.js"></script>
  <script src="js/angular-sanitize.js"></script>
  <script src="js/hotkeys.js"></script>

  <!-- Angular App -->
  <script src="js/app.js"></script>

  <script>
    document.onreadystatechange = function () {

      var body = document.getElementById('body');

      if (document.readyState === 'complete') {
        body.classList.add('loaded');
      }
    }
  </script>
</body>
</html>
